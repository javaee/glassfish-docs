<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US">

<!--
DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2008 Sun Microsystems, Inc. All rights reserved.
 
Use is subject to License Terms
-->

<head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>HTTP Service Access Logging - Sun GlassFish Enterprise Server v3 Administration Console Online Help
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>

</head>

<body class="HlpBdy">

<a name="ref-accesslog"></a><h4>HTTP Service Access Logging</h4>
<p>Use the HTTP Service Access Logging page to specify the general access log
policy for web applications.</p><p>The HTTP Service Access Logging page contains the following options.</p><dl><dt>Access Logging</dt>
<dd><p>If this option is selected, access logging is enabled for all virtual server sub-elements that do not specify this property. If not selected, this option disables access logging for all virtual-server sub-elements that do not specify this property. This option is disabled by default.</p></dd>
<dt>Rotation</dt>
<dd><p>If this option is selected, log file rotation is enabled. This option is enabled by default.</p></dd>
<dt>Rotation Policy</dt>
<dd><p>The only available rotation policy is time.</p></dd>
<dt>Rotation Interval</dt>
<dd><p>The number of minutes between rotations of the access log. This field is valid only if the Rotation Policy is time. The default value is 15 minutes.</p><p>Ensure that the rotation suffix contains enough values to create a unique suffix for every log rotation. For example, if the access log is rotated more frequently than once every day, include the time of day in the rotation suffix.</p><p>A unique suffix is required to ensure that the access log file is rotated every time that the rotation interval has elapsed. If the rotation suffix of the new access log file is the same as the rotation suffix of the existing access log file, the file is not rotated.</p></dd>
<dt>Rotation Suffix</dt>
<dd><p>String value to be added to the end of the log file name after rotation. The default value is <tt>yyyy-MM-dd</tt>.</p></dd>
<dt>Access Log Buffer Size</dt>
<dd><p>The size, in bytes, of the access log buffer, or a value less than or equal to zero for unbuffered access logs. The default value is 4096.</p></dd>
<dt>Access Log Write Interval</dt>
<dd><p>The number of seconds before the log will be written to the disk. The access log is written when the buffer is full or when the interval expires. If the value is less than or equal to zero, then the buffer is always written even if it is not full. This means that each time the server is accessed, the log message is stored directly to the file.</p></dd>
<dt>Format</dt>
<dd><p>String value that specifies what information is to be captured in the access log and the order in which it is captured. The default value is as follows:</p><pre>%client.name% %auth-user-name% %datetime% %request% %status% %response.length%</pre><p>The following values are available for inclusion in the format string:</p><dl><dt><tt>%client.name%</tt></dt>
<dd><p>Client host name</p></dd>
<dt><tt>%client.dns%</tt></dt>
<dd><p>Client DNS</p></dd>
<dt><tt>%datetime%</tt></dt>
<dd><p>System date</p></dd>
<dt><tt>%request%</tt></dt>
<dd><p>Full HTTP request line</p></dd>
<dt><tt>%status%</tt></dt>
<dd><p>Status</p></dd>
<dt><tt>%response.length%</tt></dt>
<dd><p>Response content length</p></dd>
<dt><tt>%header.referer%</tt></dt>
<dd><p>Referer header</p></dd>
<dt><tt>%header.user-agent%</tt></dt>
<dd><p>User agent header</p></dd>
<dt><tt>%http-method%</tt></dt>
<dd><p>HTTP method</p></dd>
<dt><tt>%http-uri%</tt></dt>
<dd><p>HTTP URI</p></dd>
<dt><tt>%query-str%</tt></dt>
<dd><p>HTTP query string</p></dd>
<dt><tt>%http-version%</tt></dt>
<dd><p>HTTP protocol version</p></dd>
<dt><tt>%header.accept%</tt></dt>
<dd><p>Accept header</p></dd>
<dt><tt>%header.date%</tt></dt>
<dd><p>Date header</p></dd>
<dt><tt>%header.if-mod-since%</tt></dt>
<dd><p>If-Modified-Since header</p></dd>
<dt><tt>%header.auth%</tt></dt>
<dd><p>Authorization header</p></dd>
<dt><tt>%header.<i>any</i>%</tt></dt>
<dd><p>Any valid HTTP header value defined in RFC 2616 (<tt>any</tt> is also a valid header value; it is specified as a variable here)</p></dd>
<dt><tt>%auth-user-name%</tt></dt>
<dd><p>Name of authorized user</p></dd>
<dt><tt>%cookie.value%</tt></dt>
<dd><p>Value of a cookie</p></dd>
<dt><tt>%vs.id%</tt></dt>
<dd><p>Virtual server ID</p></dd>
</dl>
</dd>
<dt>Additional Properties</dt>
<dd><p>Additional properties for the HTTP Service. The Enterprise Server does not define any additional properties for the HTTP Service.</p></dd>
</dl>
<h5>Related Tasks</h5>

<ul><li><p><a href="task-accesslog.html">To Configure the HTTP Service Access Log</a></p></li></ul>
<h5>Related <tt>asadmin</tt> Commands</h5>
<p>None.</p>
<br/>

</body>
</html>
